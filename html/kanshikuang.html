<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<link rel="stylesheet" href="../css/public.css" />
	<link rel="stylesheet" href="../css/kanshikuang.css">
	<script src="https://cdn.bootcss.com/flv.js/1.3.3/flv.js"></script>
	<body>
		<div class="wrapper">
			<header>
				<ul class="nav">
					<img src="../img/public/riot.png"
						style="vertical-align: middle;position: absolute;top: 20px;left: 25px;" width="35" height="30">
					<h1 class="log">RIOT<br />GAMES</h1>
					<li><a href="../index.html"><img src="../img/sample.svg" style="vertical-align: middle;" alt=""
								width="30" height="35"></a></li>
					<li><a href="./saicheng.html">赛程</a></li>
					<li><a href="#">看直播</a></li>
					<li><a href="./paiming.html">排名</a></li>
					<li><a href="./zuixinxiaoxi.html">最新消息</a></li>
					<li><a href="./2023VCT.html">2023 VCT</a></li>
					<ul class="language">
						<li>
							<img src="../iconfont/多语言.svg" style="vertical-align: middle;" alt="" width="30"
								height="35">
							<ul class="language-dropdown">
								<li>简体中文</li>
								<li>English</li>
								<li>Español</li>
								<li>Français</li>
							</ul>
						</li>
					</ul>
				</ul>
			</header>
			<aside>
				
				<button id="previousButton" class="pre-button">🤪</button>
				<button id="nextButton" class="next-button">🤪</button>
				<video width="100%" height="650px" id="videoElement" controls autoplay
					style="margin-bottom: -60px;"></video>
				<script>
					if (flvjs.isSupported()) {
						var videoElement = document.getElementById('videoElement');
						var urls = [
							// 24小时
							'https://pull-flv-f26.douyincdn.com/media/stream-7303740807876840202.flv?abr_pts=-800&_session_id=037-20231122110301CE0E98979A43C4A3921D.1700622185264.86183',
							'https://pull-flv-l26.douyincdn.com/stage/stream-7303169055505009434.flv?expire=6566aa00&sign=639440a1b38a624cb7c674a862441aac&abr_pts=-800&_session_id=037-202311221103276C17A1E44D8621A3B85B.1700622211551.42158'
						];
						var currentIndex = 0;

						var flvPlayer = flvjs.createPlayer({
							type: 'flv',
							url: urls[currentIndex]
						});

						flvPlayer.attachMediaElement(videoElement);
						flvPlayer.load();
						flvPlayer.play();

						flvPlayer.on('error', function() {
							alert("当前直播已经下播!请点击右侧小黄脸去下一个直播间!");
						});

						function switchToNextRoom() {
							currentIndex++;
							if (currentIndex < urls.length) {
								flvPlayer.detachMediaElement();
								flvPlayer.destroy();

								flvPlayer = flvjs.createPlayer({
									type: 'flv',
									url: urls[currentIndex]
								});

								flvPlayer.attachMediaElement(videoElement);
								flvPlayer.load();
								flvPlayer.play();
							} else {
								console.error('所有视频链接均不可用！');
							}
						}
						
						function switchToPreviousRoom() {
							currentIndex--;
							if (currentIndex >= 0) {
								flvPlayer.detachMediaElement();
								flvPlayer.destroy();
						
								flvPlayer = flvjs.createPlayer({
									type: 'flv',
									url: urls[currentIndex]
								});
						
								flvPlayer.attachMediaElement(videoElement);
								flvPlayer.load();
								flvPlayer.play();
							} else {
								console.error('已经是第一个视频链接！');
							}
						}
						document.getElementById('nextButton').addEventListener('click', switchToNextRoom);
						document.getElementById('previousButton').addEventListener('click', switchToPreviousRoom);
					}
				</script>
			</aside>
			<footer>
				<img src="../img/public/riot2.png" style="vertical-align: middle;margin-left: 30px;">
				<h1 style="margin-left: 5px;">RIOT<br />GAMES</h1>
				<img src="../img/public/valorant.svg" alt="">
				<span class="fot">© 2023 Riot Games.版權所有。<br />
					<a href="">隱私權政策&nbsp;&nbsp;</a>
					<a href="">服務條款&nbsp;&nbsp;</a>
					<a href="">輔助使用&nbsp;&nbsp;</a>
					<a href="">Cookie偏好設定</a>
				</span>
			</footer>
		</div>
	</body>
</html>